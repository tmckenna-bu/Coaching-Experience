<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Coaching Experience</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .game-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            max-width: 800px;
            width: 100%;
            overflow: hidden;
            min-height: 600px;
        }
        
        .header {
            background: linear-gradient(135deg, #2b6cb0 0%, #1a365d 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .scenario {
            background: #f7fafc;
            border-left: 4px solid #2b6cb0;
            padding: 25px;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        
        .scenario h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .scenario p {
            color: #555;
            line-height: 1.6;
            font-size: 1.1rem;
        }
        
        .chat-container {
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            height: 300px;
            overflow-y: auto;
            padding: 20px;
            margin-bottom: 20px;
            background: #fafbfc;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 12px;
            max-width: 80%;
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .coach-message {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            margin-left: auto;
        }
        
        .teacher-message {
            background: #f3e5f5;
            border: 1px solid #ce93d8;
            margin-right: auto;
        }
        
        .input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .response-input {
            flex: 1;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .response-input:focus {
            outline: none;
            border-color: #2b6cb0;
            box-shadow: 0 0 0 3px rgba(43, 108, 176, 0.1);
        }
        
        .send-btn {
            background: linear-gradient(135deg, #2b6cb0 0%, #1a365d 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(43, 108, 176, 0.4);
        }
        
        .send-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .reveal-section {
            display: none;
            text-align: center;
            padding: 30px;
            background: #f8f9ff;
            border-radius: 12px;
            margin-top: 30px;
        }
        
        .coach-type {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }
        
        .coach-description {
            font-size: 1.1rem;
            color: #555;
            margin-bottom: 25px;
            line-height: 1.6;
        }
        
        .comparison-btn {
            background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: transform 0.2s;
        }
        
        .comparison-btn:hover {
            transform: translateY(-2px);
        }
        
        .comparison-grid {
            display: none;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .coach-comparison {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e1e8ed;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .coach-comparison h4 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .coach-comparison.ideal {
            border-color: #2e7d32;
            background: linear-gradient(135deg, #f1f8e9 0%, #e8f5e8 100%);
        }
        
        .coach-comparison.micromanager {
            border-color: #d32f2f;
            background: linear-gradient(135deg, #ffebee 0%, #fce4ec 100%);
        }
        
        .coach-comparison.vague {
            border-color: #f57c00;
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
        }
        
        .coach-comparison.bad {
            border-color: #7b1fa2;
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
        }
        
        .start-btn {
            background: linear-gradient(135deg, #2b6cb0 0%, #1a365d 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: 600;
            transition: transform 0.2s;
            display: block;
            margin: 0 auto;
        }
        
        .coach-identifier {
            position: absolute;
            top: 60px;
            right: 20px;
            background: rgba(255,255,255,0.9);
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 2px solid #2b6cb0;
            z-index: 10;
        }
        
        .hint-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 0.95rem;
            color: #856404;
        }
        
        .progress-bar {
            width: 100%;
            height: 4px;
            background: #e1e8ed;
            border-radius: 2px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #2b6cb0, #1a365d);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>The Coaching Experience</h1>
            <p>Experience different coaching approaches to understand what makes effective support</p>
        </div>
        
        <div class="content">
            <div id="start-screen">
                <div class="scenario">
                    <h3>🎯 Your Teaching Challenge</h3>
                    <p>You're a 7th-grade science teacher working on an ecosystems unit. Your students are struggling with understanding how different parts of an ecosystem connect and affect each other. When you ask them to show these relationships, they create very basic drawings that don't demonstrate the connections between organisms, energy flow, or how the system works as a whole. You're looking for coaching support to help improve your instruction.</p>
                </div>
                <p style="text-align: center; margin-bottom: 30px; font-size: 1.1rem; color: #555;">
                    Immerse yourself in this teaching scenario and experience instructional coaching from an AI perspective. 
                    Reflect on the interaction style, questions asked, and guidance provided as we'll discuss your experience together afterward.
                </p>
                <button class="start-btn" onclick="startGame()">Start Coaching Session</button>
            </div>
            
            <div id="game-screen" style="display: none; position: relative;">
                <div class="coach-identifier" id="coachId"></div>
                
                <div class="hint-box">
                    <strong>Tip:</strong> Pay close attention to your coach's style, noticing how their responses either support or hinder your goals as a 7th-grade science teacher. Consider not only <em>what</em> is said, but <em>how</em> it positions you as a learner and practitioner.
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress"></div>
                </div>
                
                <div class="chat-container" id="chat"></div>
                
                <div class="input-container">
                    <input type="text" class="response-input" id="responseInput" placeholder="Type your response..." maxlength="200">
                    <button class="send-btn" onclick="sendResponse()" id="sendBtn">Send</button>
                </div>
            </div>
            
            <div class="reveal-section" id="reveal">
                <div class="coach-type" id="coachType"></div>
                <div class="coach-description" id="coachDescription"></div>
                <button class="comparison-btn" onclick="showComparison()">See All Coaching Approaches</button>
            </div>
            
            <div class="comparison-grid" id="comparison">
                <div class="coach-comparison ideal">
                    <h4>🌟 The Dialogic Coach (D)</h4>
                    <p><strong>Approach:</strong> Uses open-ended questions, listens actively, promotes reflection</p>
                    <p><em>"What are you noticing about how your students approach showing these ecosystem connections? What might that tell us about their thinking?"</em></p>
                    <button class="try-coach-btn" onclick="tryCoach('ideal')">Try This Coach</button>
                </div>
                <div class="coach-comparison micromanager">
                    <h4>📋 The Micromanager (M)</h4>
                    <p><strong>Approach:</strong> Gives direct commands, evaluates performance, prescribes solutions</p>
                    <p><em>"You're doing this wrong. Use guided inquiry instead. Your students aren't engaged because you didn't scaffold properly."</em></p>
                    <button class="try-coach-btn" onclick="tryCoach('micromanager')">Try This Coach</button>
                </div>
                <div class="coach-comparison vague">
                    <h4>🤷 The Vague Helper (V)</h4>
                    <p><strong>Approach:</strong> Well-meaning but gives generic, non-specific advice</p>
                    <p><em>"Have you tried making it more hands-on? Students learn better when they're engaged."</em></p>
                    <button class="try-coach-btn" onclick="tryCoach('vague')">Try This Coach</button>
                </div>
                <div class="coach-comparison bad">
                    <h4>⚠️ The Outdated Advisor (O)</h4>
                    <p><strong>Approach:</strong> Suggests traditional methods that conflict with current pedagogy</p>
                    <p><em>"Just give them a worksheet with the food chain template to fill in. Once they master that, they can try drawing their own."</em></p>
                    <button class="try-coach-btn" onclick="tryCoach('bad')">Try This Coach</button>
                </div>
            </div>
            
            <div class="restart-section" id="restart-section" style="display: none;">
                <h3>Want to try a different coaching experience?</h3>
                <button class="start-btn" onclick="resetGame()">Start New Session</button>
            </div>
        </div>
        
        <!-- Hidden AI Icon -->
        <div class="ai-icon" onclick="showBehindScenes()" title="Discover how this was built">
            🤖
        </div>
        
        <!-- Behind the Scenes Modal -->
        <div class="behind-scenes-modal" id="behindScenesModal">
            <div class="behind-scenes-content">
                <div class="behind-scenes-header">
                    <button class="close-btn" onclick="closeBehindScenes()">×</button>
                    <h2>🚀 Behind the Scenes: NGSS AI Curriculum Coach</h2>
                    <p>A peek into the research and technology powering dialogic AI coaching</p>
                </div>
                
                <div class="behind-scenes-body">
                    <div class="tech-section">
                        <h3>🧠 The Pedagogical Foundation</h3>
                        <p><strong>Dialogic Coaching Theory:</strong> Our approach is grounded in research showing that effective coaching promotes teacher agency through open-ended questioning, active listening, and reflective dialogue rather than prescriptive feedback.</p>
                        <p><strong>NGSS Three-Dimensional Learning:</strong> The system understands relationships between Disciplinary Core Ideas (DCIs), Science and Engineering Practices (SEPs), and Crosscutting Concepts (CCCs) - not just as isolated standards but as interconnected dimensions of learning.</p>
                    </div>
                    
                    <div class="tech-section">
                        <h3>⚙️ Technical Architecture</h3>
                        <div class="tech-grid">
                            <div class="tech-card">
                                <h4>🔍 Pedagogically-Aware RAG</h4>
                                <p>Hybrid retrieval system that combines semantic search with curriculum metadata to find contextually relevant guidance from high-quality instructional materials.</p>
                            </div>
                            <div class="tech-card">
                                <h4>🕸️ NGSS Knowledge Graph</h4>
                                <p>Traversable network encoding relationships between standards, learning progressions, and pedagogical moves that mirrors how expert teachers reason about curriculum.</p>
                            </div>
                            <div class="tech-card">
                                <h4>💬 Dialogic Response Generation</h4>
                                <p>LLM fine-tuned on expert coaching transcripts to generate non-evaluative, inquiry-based responses that scaffold teacher reflection.</p>
                            </div>
                            <div class="tech-card">
                                <h4>🏠 Local-First Privacy</h4>
                                <p>Runs entirely on local infrastructure to protect teacher data sovereignty while maintaining full functionality offline.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tech-section">
                        <h3>🎯 What Makes This Different</h3>
                        <p><strong>Not Generic QA:</strong> Instead of broad educational advice, provides specific, curriculum-grounded guidance tied to actual NGSS units and EQuIP-reviewed materials.</p>
                        <p><strong>Teacher-Centered Design:</strong> Amplifies rather than replaces teacher judgment by providing tools for reflection and decision-making, never evaluation or compliance checking.</p>
                        <p><strong>Research-Based Coaching Moves:</strong> Every interaction follows evidence-based coaching protocols: framing probes, formative check-ins, and dialogic scaffolding.</p>
                    </div>
                    
                    <div class="tech-section">
                        <h3>🔬 Current Research Questions</h3>
                        <p>• How does AI-mediated coaching affect teacher agency and professional growth?</p>
                        <p>• What coaching moves are most effective for NGSS implementation challenges?</p>
                        <p>• How do teachers adapt their practice when given reflective vs. directive feedback?</p>
                        <p>• Can AI maintain the relational aspects that make human coaching effective?</p>
                    </div>
                    
                    <div class="contact-info">
                        <h3>🤝 Join the Research</h3>
                        <p>We're seeking educators and researchers interested in exploring pedagogically authentic AI coaching</p>
                        <button class="pilot-btn">Join Pilot Program</button>
                        <button class="pilot-btn">Collaborate on Research</button>
                        <p style="margin-top: 15px; font-size: 0.9rem;">Contact: tmckenna@bu.edu | Research funded by NSF #TBD</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const coaches = {
            micromanager: {
                name: "📋 The Micromanager",
                description: "This coach believes in direct instruction and evaluation. They tend to diagnose problems quickly and prescribe specific solutions without exploring your thinking.",
                identifier: "📋",
                letter: "M",
                responses: [
                    "I can see the problem immediately. Your students aren't developing proper models because you haven't provided enough structure. You need to use a more guided approach with explicit steps.",
                    "That's not the right way to think about it. You should be using the 5E model more systematically. Your students need more scaffolding before they can create models independently.",
                    "You're making this too complicated. Just follow the curriculum guide exactly - it has model templates on page 47. Your students will be fine if you stick to the prescribed sequence."
                ]
            },
            ideal: {
                name: "🌟 The Dialogic Coach",
                description: "This coach uses research-based dialogic practices: asking probing questions, listening deeply, and helping you reflect on your practice to develop your own insights.",
                identifier: "🌟",
                letter: "D",
                responses: [
                    "What are you noticing about how your students approach showing these ecosystem connections? I'm curious about what their current attempts tell us about their thinking.",
                    "That's interesting. When you say they're creating 'basic drawings,' what specific elements are they including or leaving out? What might that suggest about their understanding?",
                    "I'm hearing that relationships and system interactions are challenging for them. What do you think might help them see these connections? What has worked in other contexts?"
                ]
            },
            vague: {
                name: "🤷 The Vague Helper",
                description: "This coach means well but offers generic advice without deep understanding of your specific context or current pedagogical approaches.",
                identifier: "🤷",
                letter: "V",
                responses: [
                    "Have you tried making it more hands-on? Students at that age really need to be actively engaged. Maybe some group work would help?",
                    "You know, differentiation is really important. Maybe try some visual learners strategies? Or perhaps they need more time to process the information.",
                    "Sometimes students just need more practice. You could try breaking it down into smaller chunks. Have you considered using technology to make it more interesting?"
                ]
            },
            bad: {
                name: "⚠️ The Outdated Advisor",
                description: "This coach suggests traditional methods that conflict with current understanding of effective science pedagogy and student learning.",
                identifier: "⚠️",
                letter: "O",
                responses: [
                    "The problem is they don't have enough background knowledge. Have them memorize all the ecosystem components first - producers, consumers, decomposers. Then they can draw models.",
                    "You're making modeling too complicated. Just give them a worksheet with the food chain template to fill in. Once they master that, they can try drawing their own.",
                    "Students need to learn facts before they can think critically. Do some vocabulary drills first, then have them copy a model from the textbook before creating their own."
                ]
            }
        };

        let currentCoach;
        let currentResponse = 0;
        let userResponses = [];

        let currentCoachType = '';
        
        function startGame() {
            // Randomly select a coach
            const coachTypes = Object.keys(coaches);
            const randomCoach = coachTypes[Math.floor(Math.random() * coachTypes.length)];
            currentCoach = coaches[randomCoach];
            currentCoachType = randomCoach;
            
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            
            // Add the coach identifier
            addCoachIdentifier();
            
            // Start the conversation
            setTimeout(() => {
                addCoachMessage(currentCoach.responses[0]);
                updateProgress();
            }, 1000);
        }

        function addCoachMessage(message) {
            const chat = document.getElementById('chat');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message coach-message';
            messageDiv.textContent = message;
            chat.appendChild(messageDiv);
            chat.scrollTop = chat.scrollHeight;
        }

        function addTeacherMessage(message) {
            const chat = document.getElementById('chat');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message teacher-message';
            messageDiv.textContent = message;
            chat.appendChild(messageDiv);
            chat.scrollTop = chat.scrollHeight;
        }

        function sendResponse() {
            const input = document.getElementById('responseInput');
            const response = input.value.trim();
            
            if (!response) return;
            
            // Add teacher message
            addTeacherMessage(response);
            userResponses.push(response);
            input.value = '';
            
            currentResponse++;
            
            // Check if conversation is complete
            if (currentResponse >= 3) {
                setTimeout(() => {
                    endGame();
                }, 1000);
                return;
            }
            
            // Add coach response
            setTimeout(() => {
                addCoachMessage(currentCoach.responses[currentResponse]);
                updateProgress();
            }, 1500);
        }

        function updateProgress() {
            const progress = ((currentResponse + 1) / 3) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }
        
        function addCoachIdentifier() {
            const identifiers = {
                micromanager: "📋 M",
                ideal: "🌟 D", 
                vague: "🤷 V",
                bad: "⚠️ O"
            };
            
            document.getElementById('coachId').textContent = identifiers[currentCoachType];
        }

        function endGame() {
            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('reveal').style.display = 'block';
            
            document.getElementById('coachType').textContent = `You experienced: ${currentCoach.name}`;
            document.getElementById('coachDescription').textContent = currentCoach.description;
        }

        function tryCoach(coachType) {
            // Set the specific coach
            currentCoach = coaches[coachType];
            currentCoachType = coachType;
            currentResponse = 0;
            userResponses = [];
            
            // Hide comparison and reveal sections
            document.getElementById('comparison').style.display = 'none';
            document.getElementById('reveal').style.display = 'none';
            document.getElementById('restart-section').style.display = 'none';
            
            // Show game screen
            document.getElementById('game-screen').style.display = 'block';
            
            // Clear chat and reset
            document.getElementById('chat').innerHTML = '';
            document.getElementById('progress').style.width = '0%';
            
            // Add the coach identifier
            addCoachIdentifier();
            
            // Start the conversation
            setTimeout(() => {
                addCoachMessage(currentCoach.responses[0]);
                updateProgress();
            }, 1000);
        }
        
        function resetGame() {
            // Reset everything to start screen
            currentResponse = 0;
            userResponses = [];
            
            document.getElementById('start-screen').style.display = 'block';
            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('reveal').style.display = 'none';
            document.getElementById('comparison').style.display = 'none';
            document.getElementById('restart-section').style.display = 'none';
            
            // Reset UI elements
            document.getElementById('chat').innerHTML = '';
            document.getElementById('progress').style.width = '0%';
            document.querySelector('.comparison-btn').style.display = 'inline-block';
        }
        
        function showComparison() {
            document.getElementById('comparison').style.display = 'grid';
            document.getElementById('restart-section').style.display = 'block';
            document.querySelector('.comparison-btn').style.display = 'none';
        }

        function showBehindScenes() {
            document.getElementById('behindScenesModal').style.display = 'block';
            document.body.style.overflow = 'hidden'; // Prevent scrolling behind modal
        }
        
        function closeBehindScenes() {
            document.getElementById('behindScenesModal').style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
        }
        
        // Close modal when clicking outside of it
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('behindScenesModal');
            if (event.target === modal) {
                closeBehindScenes();
            }
        });
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeBehindScenes();
            }
        });
        
        // Allow Enter key to send response
        document.getElementById('responseInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendResponse();
            }
        });
    </script>
</body>
</html>
